<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ad Counter â€“ Task Button Added</title>
  <style>
    html,body{margin:0;padding:0;height:100%;overflow:hidden;font-family:Arial,Helvetica,sans-serif;font-size:4px}
    #main{position:fixed;inset:0;background:url("img.png") center/cover no-repeat;opacity:0;transition:opacity .6s ease;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;padding-bottom:6px}
    #buttonsRow{display:flex;gap:6px;margin-bottom:4px}
    .glass-btn{
      width:110px;height:46px;background:rgba(255,255,255,.08);backdrop-filter:blur(2px);
      border:1px solid rgba(255,215,0,.4);border-radius:6px;
      color:#fff;font-size:9px;font-weight:bold;cursor:pointer;
      transition:all .3s ease;box-shadow:0 2px 8px rgba(0,0,0,.3);
      text-align:center;line-height:1.2
    }
    .glass-btn:hover{background:rgba(255,215,0,.2);border-color:#FFD700;color:#000}

    /* ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ø¹Ø¯Ù‘ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ ÙˆØ§Ù„Ù…Ø¤Ø´Ø± */
    #balanceBoxes{position:fixed;top:4px;left:4px;display:flex;gap:3px;z-index:5}
    .balanceBox{background:rgba(0,0,0,.4);backdrop-filter:blur(2px);border:1px solid rgba(255,215,0,.4);border-radius:4px;padding:3px 5px;color:#fff;font-size:6px;font-weight:bold;display:flex;align-items:center;gap:2px}
    #countdownBox{position:fixed;top:4px;right:4px;background:rgba(0,0,0,.4);backdrop-filter:blur(2px);border:1px solid rgba(255,215,0,.4);border-radius:4px;padding:3px 5px;color:#ffd700;font-size:4px;font-weight:bold;z-index:5}
    #autoIndicator{position:fixed;top:16px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.4);backdrop-filter:blur(2px);border:1px solid rgba(255,215,0,.4);border-radius:4px;padding:2px 4px;color:#ffd700;font-size:4px;font-weight:bold;display:none;z-index:5}

    /* Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„ÙˆØ³Ø·Ù‰ */
    #centerCircle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:88px;height:88px;border-radius:50%;overflow:visible;background:#777;box-shadow:0 0 6px rgba(0,0,0,.6)}
    #centerCircle img{width:100%;height:100%;object-fit:cover;border-radius:50%}
    #centerCircle.ripple::after{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:radial-gradient(circle, rgba(255,0,0,.9) 0%, rgba(180,0,0,.85) 22%, rgba(0,0,0,.8) 44%, rgba(255,0,0,.7) 66%, rgba(0,0,0,.6) 88%, transparent 100%);border-radius:50%;transform:translate(-50%,-50%);animation:denseRipple 1.3s ease-out infinite}
    @keyframes denseRipple{0%{width:0;height:0;opacity:1}100%{width:220px;height:220px;opacity:0}}

    /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
    #splash{position:fixed;inset:0;background:url("img4.png") center/cover no-repeat;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10;transition:opacity .6s ease}
    #splash .circle{width:80px;height:80px;border-radius:50%;overflow:hidden;box-shadow:0 0 0 2px #FFD700}
    #splash .circle img{width:100%;height:100%;object-fit:cover;display:block}
    #splash .progress-wrapper{width:80px;height:4px;background:#222;border-radius:2px;overflow:hidden;margin-top:8px}
    #splash .progress-bar{height:100%;width:0%;background:linear-gradient(90deg,#ff8c00,#ffd700,#ff8c00);border-radius:2px;animation:loading 3s linear forwards}
    @keyframes loading{0%{width:0%}100%{width:100%}}

    /* Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ø¨Ø§Ø¯Ù„Ø© ÙˆØ§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ù…Ù‡Ø§Ù… */
    #swapModal,#withdrawModal,#taskModal{position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(2px);display:none;align-items:center;justify-content:center;z-index:30}
    .modalContent{background:rgba(0,0,0,.6);border:1px solid rgba(255,215,0,.4);border-radius:4px;padding:8px;width:90%;max-width:90px;display:flex;flex-direction:column;gap:4px;color:#fff;font-size:5px}
    .modalContent input{padding:3px;font-size:5px;border-radius:2px;border:none;text-align:center}
    .modalContent button{padding:3px;font-size:5px;border-radius:2px;border:none;background:#FFD700;color:#000;font-weight:bold;cursor:pointer}
    .closeModal{align-self:flex-end;font-size:6px;cursor:pointer}
  </style>
</head>
<body>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
  <div id="splash">
    <div class="circle"><img src="img2.png" alt="Circle"></div>
    <div class="progress-wrapper"><div class="progress-bar"></div></div>
  </div>

  <!-- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <div id="main">
    <div id="balanceBoxes">
      <div class="balanceBox">ğŸ’° Points: <span id="clicks">0</span></div>
      <div class="balanceBox">ğŸ’µ USDT: <span id="usdt">0</span></div>
    </div>
    <div id="countdownBox">â³ <span id="timer">03:00:00</span></div>
    <div id="autoIndicator">âš¡ Auto-Click ON</div>

    <div id="centerCircle"><img src="img3.png" alt="Center"></div>

    <!-- ØµÙ Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
    <div id="buttonsRow">
      <button class="glass-btn" id="adBtn">Watch Ads<br><small>(30 left)</small></button>
      <button class="glass-btn" id="swapBtn">Swap â†’ USDT</button>
      <button class="glass-btn" id="withdrawBtn">Withdraw USDT</button>
      <button class="glass-btn" id="taskBtn">Tasks</button>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù‡Ø§Ù… -->
  <div id="taskModal">
    <div class="modalContent">
      <span class="closeModal" id="closeTask">&times;</span>
      <div><strong>Ø§Ù„Ù…Ù‡Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</strong></div>
      <label><input type="checkbox" class="taskCheck" data-pts="100"> ØªØ§Ø¨Ø¹ Ù‚Ù†Ø§ØªÙ†Ø§ (+100 Ù†Ù‚Ø·Ø©)</label>
      <label><input type="checkbox" class="taskCheck" data-pts="200"> Ø´Ø§Ø±Ùƒ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹ ØµØ¯ÙŠÙ‚ (+200 Ù†Ù‚Ø·Ø©)</label>
      <label><input type="checkbox" class="taskCheck" data-pts="150"> Ø±ØªÙ‘Ø¨ Ø­Ø³Ø§Ø¨Ùƒ (+150 Ù†Ù‚Ø·Ø©)</label>
      <button id="claimTasks">Ø§Ø³ØªÙ„Ù… Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª</button>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø¨Ø§Ø¯Ù„Ø© -->
  <div id="swapModal">
    <div class="modalContent">
      <span class="closeModal" id="closeSwap">&times;</span>
      <div>Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ù‚Ø§Ø· Ù„Ù„Ù…Ø¨Ø§Ø¯Ù„Ø© (Ø§Ù„Ø­Ø¯ 10,000)</div>
      <input type="number" id="swapInput" min="10000" step="1000" placeholder="10000">
      <div>Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰: <span id="usdtPreview">0</span> USDT</div>
      <button id="confirmSwap">Ø­ÙˆÙ‘Ù„ Ø§Ù„Ø¢Ù†</button>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³Ø­Ø¨ -->
  <div id="withdrawModal">
    <div class="modalContent">
      <span class="closeModal" id="closeWithdraw">&times;</span>
      <div>Ø¹Ù†ÙˆØ§Ù† Polygon USDT</div>
      <input type="text" id="withdrawAddress" placeholder="0x...">
      <div>Ø§Ù„Ù…Ø¨Ù„Øº (Ø§Ù„Ø­Ø¯ 0.5 USDT)</div>
      <input type="number" id="withdrawAmount" min="0.5" step="0.1" placeholder="0.5">
      <button id="confirmWithdraw">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨</button>
    </div>
  </div>

  <!-- GigaPub -->
  <script src="https://ad.gigapub.tech/script?id=3459"></script>

  <script>
    const splash = document.getElementById('splash');
    const main = document.getElementById('main');
    const adBtn = document.getElementById('adBtn');
    const swapBtn = document.getElementById('swapBtn');
    const withdrawBtn = document.getElementById('withdrawBtn');
    const taskBtn = document.getElementById('taskBtn');
    const centerCircle = document.getElementById('centerCircle');
    const clicksSpan = document.getElementById('clicks');
    const usdtSpan = document.getElementById('usdt');
    const autoIndicator = document.getElementById('autoIndicator');
    const timerSpan = document.getElementById('timer');

    let counter = 30;
    let clicks = 0;
    let usdt = 0;
    let autoClickEnabled = false;
    let autoClickInterval = null;
    let countdownInterval = null;
    let timeLeft = 3 * 3600;

    /*---- Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ----*/
    splash.querySelector('.progress-bar').addEventListener('animationend', () => {
      splash.style.opacity = 0;
      setTimeout(() => { splash.style.display = 'none'; main.style.opacity = 1; }, 600);
    });

    /*---- Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ----*/
    adBtn.addEventListener('click', () => {
      if (counter <= 0) return;
      window.showGiga()
        .then(() => {
          counter--;
          adBtn.innerHTML = `Watch Ads<br><small>(${counter} left)</small>`;
          if (counter === 0 && !autoClickEnabled) {
            autoClickEnabled = true;
            autoIndicator.style.display = 'block';
            centerCircle.classList.add('ripple');
            startAutoClick();
            startCountdown();
            alert("âœ… Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª! ØªÙØ¹Ù‘Ù„ Ø§Ù„Ø²Ø±Ù‘ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù…Ø¯Ø© 3 Ø³Ø§Ø¹Ø§Øª.");
          }
        })
        .catch(() => alert("ØªÙ… ØªØ®Ø·ÙŠ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø£Ùˆ ÙØ´Ù„Ù‡ØŒ Ù„Ø§ Ù…ÙƒØ§ÙØ£Ø©."));
    });

    /*---- Ø§Ù„Ù…Ù‡Ø§Ù… ----*/
    taskBtn.addEventListener('click', () => { document.getElementById('taskModal').style.display = 'flex'; });
    document.getElementById('closeTask').onclick = () => { document.getElementById('taskModal').style.display = 'none'; };
    document.getElementById('claimTasks').onclick = () => {
      let gained = 0;
      document.querySelectorAll('.taskCheck:checked').forEach(ch => { gained += Number(ch.dataset.pts); ch.disabled = true; });
      if (gained) { clicks += gained; clicksSpan.textContent = clicks; alert(`Ø§Ø³ØªÙ„Ù…Øª ${gained} Ù†Ù‚Ø·Ø©!`); }
      document.getElementById('taskModal').style.display = 'none';
    };

    /*---- Ø§Ù„Ù…Ø¨Ø§Ø¯Ù„Ø© ----*/
    swapBtn.addEventListener('click', () => { document.getElementById('swapModal').style.display = 'flex'; });
    document.getElementById('closeSwap').onclick = () => { document.getElementById('swapModal').style.display = 'none'; };
    const swapInput = document.getElementById('swapInput');
    const usdtPreview = document.getElementById('usdtPreview');
    swapInput.addEventListener('input', () => {
      const val = Math.floor(Number(swapInput.value) / 10000) * 10000;
      usdtPreview.textContent = ((val / 10000) * 0.005).toFixed(3);
    });
    document.getElementById('confirmSwap').onclick = () => {
      const pts = Math.floor(Number(swapInput.value) / 10000) * 10000;
      if (pts < 10000) return alert("Ø§Ù„Ø­Ø¯ 10,000 Ù†Ù‚Ø·Ø©");
      if (pts > clicks) return alert("Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ");
      const reward = (pts / 10000) * 0.005;
      clicks -= pts; usdt += reward;
      clicksSpan.textContent = clicks; usdtSpan.textContent = usdt.toFixed(3);
      document.getElementById('swapModal').style.display = 'none';
      alert(`ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„! Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${reward.toFixed(3)} USDT`);
    };

    /*---- Ø§Ù„Ø³Ø­Ø¨ ----*/
    withdrawBtn.addEventListener('click', () => { document.getElementById('withdrawModal').style.display = 'flex'; });
    document.getElementById('closeWithdraw').onclick = () => { document.getElementById('withdrawModal').style.display = 'none'; };
    document.getElementById('confirmWithdraw').onclick = () => {
      const addr = document.getElementById('withdrawAddress').value.trim();
      const amt = parseFloat(document.getElementById('withdrawAmount').value);
      if (!addr) return alert("Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Polygon ØµØ­ÙŠØ­");
      if (isNaN(amt) || amt < 0.5) return alert("Ø§Ù„Ø­Ø¯ 0.5 USDT");
      if (amt > usdt) return alert("Ø±ØµÙŠØ¯ USDT ØºÙŠØ± ÙƒØ§ÙÙ");

      const telegramToken = "YOUR_BOT_TOKEN";
      const chatID = "YOUR_CHAT_ID";
      const msg = `ğŸš¨ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø¬Ø¯ÙŠØ¯ ğŸš¨\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: @${window.telegramUsername||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}\nğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº: ${amt.toFixed(3)} USDT\nğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: <code>${addr}</code>\nâœ… Ø§Ø¹ØªÙ…Ø§Ø¯: <code>/approve ${addr} ${amt.toFixed(3)}</code>\nâŒ Ø±ÙØ¶: <code>/reject ${addr} ${amt.toFixed(3)}</code>`;

      fetch(`https://api.telegram.org/bot${telegramToken}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id: chatID, text: msg, parse_mode: "HTML" })
      })
      .then(r => r.json())
      .then(d => {
        if (d.ok) {
          usdt -= amt; usdtSpan.textContent = usdt.toFixed(3);
          document.getElementById('withdrawModal').style.display = 'none';
          alert("Ø£ÙØ±Ø³Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø·ÙˆÙ‘Ø±!");
        } else alert("ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.");
      })
      .catch(() => alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„."));
    };

    /*---- Ø§Ù„Ø²Ø±Ù‘ Ø§Ù„Ø£ÙˆØ³Ø· (ÙŠØ¯ÙˆÙŠ) ----*/
    centerCircle.addEventListener('click', () => {
      if (!autoClickEnabled) return;
      clicks++; clicksSpan.textContent = clicks;
    });

    /*---- Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ----*/
    function startAutoClick() {
      autoClickInterval = setInterval(() => { clicks++; clicksSpan.textContent = clicks; }, 1000);
    }
    function startCountdown() {
      countdownInterval = setInterval(() => {
        if (timeLeft <= 0) {
          clearInterval(countdownInterval); clearInterval(autoClickInterval);
          autoClickEnabled = false; autoIndicator.style.display = 'none';
          centerCircle.classList.remove('ripple');
          alert("â° Ø§Ù†ØªÙ‡Øª ÙØªØ±Ø© Ø§Ù„Ù€ 3 Ø³Ø§Ø¹Ø§Øª!"); return;
        }
        timeLeft--;
        const h = String(Math.floor(timeLeft / 3600)).padStart(2, '0');
        const m = String(Math.floor((timeLeft % 3600) / 60)).padStart(2, '0');
        const s = String(timeLeft % 60).padStart(2, '0');
        timerSpan.textContent = `${h}:${m}:${s}`;
      }, 1000);
    }
  </script>
</body>
</html>
